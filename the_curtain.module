<?php
/**
 * @file
 * .module file for 'the_curtain' module
 */

/**
 * Implements hook_menu() 
 */
function the_curtain_menu() {
  $menu['admin/config/development/the_curtain'] = array(
    'title' => 'The Curtain',
    'description' => 'Nevermind the man behind the curtain.',
    'page callback' => 'the_curtain_admin_page',
    'access arguments' => array('access administration pages'),
    'file' => 'the_curtain.admin.inc',
  );
  return $menu;
}

/**
 * Implements hook_query_alter()
 * Displays the all available queries to the UI
 */
function the_curtain_query_alter(SelectQueryInterface $query) {
  if ( variable_get('the_curtain_show_sql') ) {
    module_load_include('inc', 'the_curtain', 'the_curtain.utils');
    drupal_set_message(_the_curtain_query_to_sql($query));
  }
}
